"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _glob=require("glob"),_glob2=_interopRequireDefault(_glob),loadRoutes=function(e){return new Promise(function(r,o){var t=e+"/**/*Rest.json";(0,_glob2["default"])(t,{},function(e,t){if(e)return o(e);var n=[];t.forEach(function(e){require(e).forEach(function(r){r.file=e,n.push(r)})}),r(n)})})},organize=function(e){for(var r={},o=0,t=e.length;t>o;o++){var n=e[o],u=n.verb,i=n.path,f=n.file,a=u.toUpperCase()+": "+i,l=r.hasOwnProperty(a);if(l)throw new Error('Duplicity of route: "'+a+'" on files: "'+f+'" and "'+r[a].file+'"');r[a]=n}return r},ndcRoutes=function(e){return loadRoutes(e).then(organize)};exports["default"]=ndcRoutes;